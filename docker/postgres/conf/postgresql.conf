# PostgreSQL configuration for Vita Agents
# Performance and security optimizations

# Memory settings
shared_buffers = 256MB
effective_cache_size = 1GB
work_mem = 4MB
maintenance_work_mem = 64MB

# Checkpoint settings
checkpoint_completion_target = 0.9
wal_buffers = 16MB

# Connection settings
max_connections = 100
shared_preload_libraries = 'pg_stat_statements'

# Logging settings
log_statement = 'mod'
log_duration = on
log_checkpoints = on
log_connections = on
log_disconnections = on
log_lock_waits = on

# Security settings
ssl = off
password_encryption = scram-sha-256

# Query performance
track_activity_query_size = 2048
pg_stat_statements.track = all
pg_stat_statements.max = 1000